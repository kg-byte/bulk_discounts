<h1>My Dashboard - <%= @merchant.name %> </h1>
 <%= render partial: 'partials/navbar_merchant', :locals => {:merchant_id => @merchant.id} %>

<br>
<div class="top_items">
	<h3>Top 5 Customers:</h3>
    <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Name</th>
        <th scope="col">Number of Successful Transactions</th>
      </tr>
    </thead>
    <% @merchant.top_5_customers.each_with_index do |customer, index|%>
    <section id="top_5-<%=customer.id %>">
  	<tbody>
    <tr>
      <th scope="row"><%= index+1 %></th>
      <td><%= customer.first_name %> <%= customer.last_name %></td>
      <td><%= customer.transaction_count %></td>
 
    </tr>
  	</tbody>
	</section>
  <% end %>
</table>
</div>

<br>

<section id = 'items_to_ship'>
<h3>Items Ready to Ship:</h3>


 <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Item Name</th>
        <th scope="col">Invoice ID</th>
        <th scope="col">Invoice Date</th>
      </tr>
    </thead>
  <% @merchant.items_ready_to_ship.each_with_index do |invoice_item, index| %>

  <tbody>
    <tr>
      <th scope="row"><%= index+1 %></th>
      <td><%= invoice_item.item.name  %></td>
      <td><%= invoice_item.invoice_id %></td>
      <td><%= invoice_item.invoice.created_at.strftime("%A, %B %-d, %Y")  %></td>
 
    </tr>
  </tbody>
  <% end %>
</table>

</section>